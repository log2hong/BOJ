#include <iostream>
using namespace std;

int arr[505][505];
const int tetromino[19][4][2] = {
    { {0, 0}, {1, 0}, {2, 0}, {3, 0} },
    { {0, 0}, {0, 1}, {0, 2}, {0, 3} },
    { {0, 0}, {1, 0}, {0, 1}, {1, 1} },
    { {0, 0}, {1, 0}, {2, 0}, {0, 1} },
    { {0, 0}, {1, 0}, {2, 0}, {2, 1} },
    { {0, 0}, {0, 1}, {1, 1}, {2, 1} },
    { {0, 1}, {1, 1}, {2, 1}, {2, 0} },
    { {0, 0}, {1, 0}, {0, 1}, {0, 2} },
    { {0, 0}, {1, 0}, {1, 1}, {1, 2} },
    { {0, 0}, {0, 1}, {0, 2}, {1, 2} },
    { {1, 0}, {1, 1}, {1, 2}, {0, 2} },
    { {1, 0}, {2, 0}, {0, 1}, {1, 1} },
    { {0, 0}, {1, 0}, {1, 1}, {2, 1} },
    { {0, 0}, {0, 1}, {1, 1}, {1, 2} },
    { {1, 0}, {1, 1}, {0, 1}, {0, 2} },
    { {0, 0}, {1, 0}, {2, 0}, {1, 1} },
    { {1, 0}, {0, 1}, {1, 1}, {2, 1} },
    { {0, 0}, {0, 1}, {0, 2}, {1, 1} },
    { {0, 1}, {1, 0}, {1, 1}, {1, 2} },
};

int main(){
    int n, m;
    cin >> n >> m;
    
    for(int i = 0; i < n; i++){
        for(int j = 0; j < m; j++){
            cin >> arr[i][j];
        }
    }

    int maxsum = -1;
    for(int i = 0; i < n; i++){
        for(int j = 0; j < m; j++){
            for(int k = 0; k < 19; k++){
                int sum = 0;
                for(int l = 0; l < 4; l++){
                    sum += arr[i + tetromino[k][l][0]][j + tetromino[k][l][1]];
                }
                if(maxsum < sum) maxsum = sum;
            }
        }
    }
    
    cout << maxsum << endl;
    return 0;
}
